$('#name').on('keyup', function(){
    var name = $(this).val();
    name = name.toLowerCase().replace(/\s+/g, '-').replace(/[^\w-]+/g, '').trim();
    name = name.replace(/--+/g, '-');
    if (name.charAt(name.length - 1) == '-') {
        name = name.slice(0, -1);
    }
    $('#slug').val(name);
});
$(document).on("keyup", "#seo_title", function() {
    var seoTitle = $('#seo_title').val();
    var canvas = document.createElement("canvas");
    var ctx = canvas.getContext("2d");
    ctx.font = "400 20px arial,san-serif"; // This can be set programmaticly from the element's font-style if desired
    var textWidth = Math.round(ctx.measureText(seoTitle).width);
    if (textWidth > 545) {
        $('#titleLength').css("color", "#FF5733"); ;
    } else {
        $('#titleLength').css('color', "#000000");
    }
    $('#titleLength').text(textWidth+"px");
    if (seoTitle.length > 190) {
        $('#titleChar').css("color", "#FF5733"); ;
    } else {
        $('#titleChar').css('color', "#000000");
    }
    $('#titleChar').text(seoTitle.length);
});
$(document).on("keyup", "#seo_description", function() {
    var seoDescription= $('#seo_description').val();
    if (seoDescription.length > 250) {
        $('#descriptionChar').css("color", "#FF5733"); ;
    } else {
        $('#descriptionChar').css('color', "#000000");
    }
    $('#descriptionChar').text(seoDescription.length);
});

$(document).on("keyup", "#seo_keywords", function() {
    var seoKeywords = $('#seo_keywords').val();
    if (seoKeywords.length > 0) {
        arr = seoKeywords.split(",");
        if (arr.length > 30) {
            $('#keywordCount').css("color", "#FF5733");
        } else {
            $('#keywordCount').css('color', "#000000");
        }
        $('#keywordCount').text(arr.length);
    } else {
        $('#keywordCount').text(0);
    }
});
$(document).on('click', "#addFaq",  function(e){
    queCount = $('.question').length +1;
    ansCount = $('.answer').length +1;
    $('#faq').append('<div class="col-md-12 row p-0">'+
    '<div class="col-md-6 pr-0">'+
    '<label>Question</label>'+
    '<input type="text" class="form-control question" name="question['+queCount+']">'+
    '</div>'+
    '<div class="col-md-6 pr-0">'+
    '<label>Answer</label>'+
    '<input type="text" class="form-control answer" name="answer['+ansCount+']">'+
    '</div></div>');
});